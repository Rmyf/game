<html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="css/style.css" rel="stylesheet" type="text/css">



    <title>MarioGame</title>
</head>

<!--<audio src="sound/overworld.mp3" controls autoplay loop></audio>-->

<body>

    <header>
        <img id="avatarmario" src="images/iconmario.png">
        <section>
            <div id="health1">
            </div>
        </section>
        <img id="vs" src="images/vs.png" alt="VS">

        <section>
            <div id="health2">
            </div>
        </section>
        <div id="vs">
            <img id="avatarwario" src="images/iconwario.png">
        </div>
    </header>
    <div class="fireball"></div>
    <div class="littlefire"></div>
    <div class="lightning">
        <img src="images/wario_lightning.png" alt="lightning">
    </div>
    <div class="littlelightning">
        <img src="images/littlelightning.png" alt="lightning">
    </div>

    <main>
        <h1 class="blink">GAME OVER</h1>
        <div class="persomario"></div>

        <div class="persowario"></div>

    </main>


    <footer>
        <input id="buttmario" type="button" value="A">
        <input id="buttsupwario" type="button" value="B">
        <input id="buttwario" type="button" value="A">
        <input id="buttsupmario" type="button" value="B">





    </footer>


</body>




<script>
    "use strict";

    let buttmario = document.getElementById('buttmario');
    let buttwario = document.getElementById('buttwario');


    let buttsupmario = document.getElementById('buttsupmario');
    let buttsupwario = document.getElementById('buttsupwario');




    const display = function() {

        let lifeWario = document.querySelector("#health2")
        lifeWario.style.width = (wario.vie * 4) + "px";

        let lifeMario = document.querySelector("#health1")
        lifeMario.style.width = (mario.vie * 4) + "px";
    }


    // get .health1
    // change .health1 content to match mario's health
    // get .health2
    // change .health2 content to match wario's health

    const attack = function(perso) {
        perso.vie -= 10;
        display();
        gameover();

    }
    supattack = function(perso) {
        perso.vie -= 20;
        display();
        gameover();
    }


    let mario = {
        name: "Mario",
        vie: 100,
    };


    let wario = {
        name: "Wario",
        vie: 100,
    };


    // attack(wario);

    buttmario.addEventListener("click", function() {
        attack(wario)
    });

    buttwario.addEventListener("click", function() {
        attack(mario)

    });
    buttsupwario.addEventListener("click", function() {
        supattack(wario)
    });

    buttsupmario.addEventListener("click", function() {
        supattack(mario)

    });



    function gameover() {
        if (mario.vie <= 0 || wario.vie <= 0) {
            document.querySelector(".blink").style.display = "flex";

        }
    }
</script>


</body>

</html>